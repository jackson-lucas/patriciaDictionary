/*!
 *patricia - Patricia trie implementation for dictionary
 *Copyright (C) <2014>  <Jackson S. L. Lima>
 *
 *This program is free software: you can redistribute it and/or modify
 *it under the terms of the GNU General Public License as published by
 *the Free Software Foundation, either version 3 of the License, or
 *(at your option) any later version.
 *
 *This program is distributed in the hope that it will be useful,
 *but WITHOUT ANY WARRANTY; without even the implied warranty of
 *MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *GNU General Public License for more details.
 *
 *You should have received a copy of the GNU General Public License
 *along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
!function(o){var e=function(){"use strict";var e={},t={};return e.dictionary={root:{is_word:!1,nextNodes:{}},words_counter:0},e.Node=function(e,t){this.is_word=e==o?!0:e,this.nextNodes=t||{}},e.compareWords=function(o,e){var t,n,r=o.length<e.length?o.length:e.length,i="",s="",d="";for(n=0;r>n&&o.charAt(n)==e.charAt(n);n++);return n?o==e?[0]:(i=o.slice(0,n),s=o.slice(n),d=e.slice(n),t=o==i?1:e==i?2:3,[t,i,s,d]):[-1]},e.fillDictionary=function(t,n){var r,i,s,d,c=!1,n=n||{},a=n.root||e.dictionary.root,l=a.nextNodes,u=n.should_count_words==o?!0:n.should_count_words;for(u&&(e.dictionary.words_counter+=t.length),r=0;r<t.length;r++)if(Object.keys(l).length)for(i in l){switch(s=e.compareWords(i,t[r]),s[0]){case-1:break;case 0:l[i].is_word=!0,c=!0;break;case 1:e.fillDictionary([s[3]],{should_count_words:!1,root:l[i]}),c=!0;break;case 2:a.nextNodes[s[1]]=new e.Node,d=a.nextNodes[i],delete a.nextNodes[i],a=a.nextNodes[s[1]],a.nextNodes[s[2]]=d,c=!0,a=n.root||e.dictionary.root;break;case 3:a.nextNodes[s[1]]=new e.Node(!1),d=a.nextNodes[i],delete a.nextNodes[i],a=a.nextNodes[s[1]],a.nextNodes[s[2]]=d,a.nextNodes[s[3]]=new e.Node,c=!0,a=n.root||e.dictionary.root}if(c){c=!1;break}}else l[t[r]]=new e.Node},t.initialize=function(o){e.fillDictionary(o,{should_count_words:!0})},t.search=function(){},t.getDictionary=function(){return e.dictionary},t.compareWords=e.compareWords,t}();this.patricia=e}();